# Spring application
spring.application.name=projetPi
server.port=8089

# Date format
spring.mvc.format.date=yyyy-MM-dd

### DATABASE - MongoDB ###
spring.data.mongodb.uri=mongodb://localhost:27017/ProjetPi

### JPA / HIBERNATE - DISABLED ###
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
  org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

### JWT Configuration ###
jwt.secret=ecommerce-secret-key-must-be-at-least-256-bits-long-for-hs256-algorithm
jwt.expiration=86400000

### LOGGING ###
logging.level.root=INFO
logging.level.tn.esprit.projetPi=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %-5level - %logger{36} - %msg%n
logging.level.org.springframework.web=DEBUG
logging.level.org.springdoc=DEBUG
logging.level.tn.esprit.projetPi.controllers=DEBUG

### SPRINGDOC OPENAPI CONFIGURATION ###
# Activation and base paths
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html

# Swagger UI configuration
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.doc-expansion=none
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.swagger-ui.use-root-path=true
springdoc.swagger-ui.csrf.enabled=false
# Disable external validation
springdoc.swagger-ui.validator-url=
# Force local API docs URL
springdoc.swagger-ui.url=/v3/api-docs
springdoc.swagger-ui.config-url=/v3/api-docs

# Package scan
springdoc.packages-to-scan=tn.esprit.projetPi.controllers,tn.esprit.projetPi.config
springdoc.paths-to-match=/api/**,/auth/**
springdoc.show-actuator=false

# Output format
springdoc.writer-with-order-by-keys=true
springdoc.writer-with-default-pretty-printer=true
springdoc.default-produces-media-type=application/json
springdoc.default-consumes-media-type=application/json

# Cache and performance
springdoc.cache.disabled=true
springdoc.api-docs.resolve-schema-properties=true
springdoc.remove-broken-reference-definitions=true

# API Groups
springdoc.group-configs[0].group=api
springdoc.group-configs[0].paths-to-match=/api/**
springdoc.group-configs[0].packages-to-scan=tn.esprit.projetPi.controllers
springdoc.group-configs[1].group=auth
springdoc.group-configs[1].paths-to-match=/auth/**
springdoc.group-configs[1].packages-to-scan=tn.esprit.projetPi.controllers

### SERVER AND ERRORS ###
server.error.include-message=always
server.error.include-binding-errors=always
server.servlet.context-path=
server.error.path=/error
server.error.whitelabel.enabled=false

### JACKSON CONFIGURATION ###
spring.jackson.serialization.indent-output=true
spring.jackson.default-property-inclusion=NON_NULL
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSSZ
spring.jackson.time-zone=UTC
spring.jackson.serialization.write-dates-as-timestamps=false
# spring.jackson.property-naming-strategy=SNAKE_CASE
# spring.jackson.deserialization.fail-on-unknown-properties=false

### MULTIPART CONFIGURATION ###
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.enabled=true

### CORS CONFIGURATION ###
app.cors.allowed-origins=http://localhost:4200
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
app.cors.allowed-headers=*
app.cors.allow-credentials=true
app.cors.max-age=3600

### MANAGEMENT ENDPOINTS ###
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

### TEST URLS ###
# JSON docs  : http://localhost:8089/v3/api-docs
# Swagger UI : http://localhost:8089/swagger-ui.html
# Swagger UI : http://localhost:8089/swagger-ui/index.html?url=/v3/api-docs